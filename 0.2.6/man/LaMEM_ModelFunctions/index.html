<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Available functions · LaMEM.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">LaMEM.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Installation</span><ul><li><a class="tocitem" href="../installation/">General instructions</a></li><li><a class="tocitem" href="../installation_HPC/">Installation on HPC systems</a></li></ul></li><li><span class="tocitem">Create &amp; run LaMEM models from julia</span><ul><li><a class="tocitem" href="../juliasetups/">Overview</a></li><li><a class="tocitem" href="../juliasetup_example_sphere/">Example 1: Sphere</a></li><li><a class="tocitem" href="../juliasetup_LaPalma/">Example 2: Volcano</a></li><li><a class="tocitem" href="../juliasetup_TMSubduction/">Example 3: Subduction</a></li><li><a class="tocitem" href="../juliasetup_pluto/">Notebooks</a></li><li class="is-active"><a class="tocitem" href>Available functions</a></li></ul></li><li><a class="tocitem" href="../runlamem/">Run LaMEM</a></li><li><a class="tocitem" href="../readtimesteps/">Reading timesteps</a></li><li><a class="tocitem" href="../listfunctions/">List of functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Create &amp; run LaMEM models from julia</a></li><li class="is-active"><a href>Available functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Available functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/main/docs/src/man/LaMEM_ModelFunctions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="List-functions"><a class="docs-heading-anchor" href="#List-functions">List functions</a><a id="List-functions-1"></a><a class="docs-heading-anchor-permalink" href="#List-functions" title="Permalink"></a></h1><p>These are all the functions that are provided for the LaMEM Julia Setup interface </p><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.BoundaryConditions" href="#LaMEM.LaMEM_Model.BoundaryConditions"><code>LaMEM.LaMEM_Model.BoundaryConditions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM boundary conditions information.</code></pre><ul><li><p><code>noslip::Vector{Int64}</code>: No-slip boundary flag mask (left right front back bottom top)</p></li><li><p><code>open_top_bound::Int64</code>: Stress-free (free surface/infinitely fast erosion) top boundary flag</p></li><li><p><code>temp_top::Float64</code>: Constant temperature on the top boundary</p></li><li><p><code>temp_bot::Float64</code>: Constant temperature on the bottom boundary</p></li><li><p><code>exx_num_periods::Int64</code>: number intervals of constant background strain rate (x-axis)</p></li><li><p><code>exx_time_delims::Vector{Float64}</code>: time delimiters (one less than number of intervals, not required for one interval)</p></li><li><p><code>exx_strain_rates::Vector{Float64}</code>: strain rates for each interval</p></li><li><p><code>eyy_num_periods::Int64</code>: eyy<em>num</em>periods</p></li><li><p><code>eyy_time_delims::Vector{Float64}</code>: eyy<em>time</em>delims</p></li><li><p><code>eyy_strain_rates::Vector{Float64}</code>: eyy<em>strain</em>rates</p></li><li><p><code>exy_num_periods::Int64</code>: exy<em>num</em>periods</p></li><li><p><code>exy_time_delims::Vector{Float64}</code>: exy<em>time</em>delims</p></li><li><p><code>exy_strain_rates::Vector{Float64}</code>: exy<em>strain</em>rates</p></li><li><p><code>exz_num_periods::Int64</code>: exz<em>num</em>periods</p></li><li><p><code>exz_time_delims::Vector{Float64}</code>: exz<em>time</em>delims</p></li><li><p><code>exz_strain_rates::Vector{Float64}</code>: exz<em>strain</em>rates</p></li><li><p><code>eyz_num_periods::Int64</code>: eyz<em>num</em>periods</p></li><li><p><code>eyz_time_delims::Vector{Float64}</code>: eyz<em>time</em>delims</p></li><li><p><code>eyz_strain_rates::Vector{Float64}</code>: eyz<em>strain</em>rates</p></li><li><p><code>bg_ref_point::Vector{Float64}</code>: background strain rate reference point (fixed)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/BoundaryConditions.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Dike" href="#LaMEM.LaMEM_Model.Dike"><code>LaMEM.LaMEM_Model.Dike</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Defines the properties related to inserting dikes</code></pre><ul><li><p><code>ID::Int64</code>: Material phase ID</p></li><li><p><code>Mf::Float64</code>: value for dike/magma- accommodated extension, between 0 and 1, in the front of the box, for phase dike</p></li><li><p><code>Mc::Float64</code>: [optional] value for dike/magma- accommodate extension, between 0 and 1, for dike phase; M is linearly interpolated between Mf &amp; Mc and Mc &amp; Mb, if not set, Mc default is set to -1 so it is not used</p></li><li><p><code>y_Mc::Union{Nothing, Float64}</code>: [optional], location for Mc, must be between front and back boundaries of dike box, if not set, default value to 0.0, but not used</p></li><li><p><code>Mb::Union{Nothing, Float64}</code>: value for dike/magma-accommodated extension, between 0 and 1, in the back of the box, for phase dike</p></li><li><p><code>PhaseID::Union{Nothing, Int64}</code>: Phase ID</p></li><li><p><code>PhaseTransID::Union{Nothing, Int64}</code>: Phase transition ID</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L373-L377">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.FreeSurface" href="#LaMEM.LaMEM_Model.FreeSurface"><code>LaMEM.LaMEM_Model.FreeSurface</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM free surface information.</code></pre><ul><li><p><code>surf_use::Int64</code>: Free surface activation flag</p></li><li><p><code>surf_corr_phase::Int64</code>: air phase ratio correction flag (phases in an element that contains are modified based on the surface position)</p></li><li><p><code>surf_level::Union{Nothing, Float64}</code>: initial level of the free surface</p></li><li><p><code>surf_air_phase::Union{Nothing, Int64}</code>: phase ID of sticky air layer</p></li><li><p><code>surf_max_angle::Float64</code>: maximum angle with horizon (smoothed if larger)</p></li><li><p><code>surf_topo_file::String</code>: initial topography file (redundant)</p></li><li><p><code>erosion_model::Int64</code>: erosion model [0-none (default), 1-infinitely fast, 2-prescribed rate with given level]</p></li><li><p><code>er_num_phases::Int64</code>: number of erosion phases</p></li><li><p><code>er_time_delims::Vector{Float64}</code>: erosion time delimiters (one less than number)</p></li><li><p><code>er_rates::Vector{Float64}</code>: constant erosion rates in different time periods</p></li><li><p><code>er_levels::Vector{Int64}</code>: levels above which we apply constant erosion rates in different time periods</p></li><li><p><code>sediment_model::Int64</code>: sedimentation model [0-none (dafault), 1-prescribed rate with given level, 2-cont. margin]</p></li><li><p><code>sed_num_layers::Int64</code>: number of sediment layers</p></li><li><p><code>sed_time_delims::Vector{Float64}</code>: sediment layers time delimiters (one less than number)</p></li><li><p><code>sed_rates::Vector{Float64}</code>: sediment rates in different time periods</p></li><li><p><code>sed_levels::Vector{Float64}</code>: levels below which we apply constant sediment rates in different time periods</p></li><li><p><code>sed_phases::Vector{Int64}</code>: sediment layers phase numbers in different time periods</p></li><li><p><code>marginO::Vector{Float64}</code>: lateral coordinates of continental margin - origin</p></li><li><p><code>marginE::Vector{Float64}</code>: lateral coordinates of continental margin - 2nd point</p></li><li><p><code>hUp::Float64</code>: up dip thickness of sediment cover (onshore)</p></li><li><p><code>hDown::Float64</code>: down dip thickness of sediment cover (off shore)</p></li><li><p><code>dTrans::Float64</code>: half of transition zone</p></li><li><p><code>Topography::Union{Nothing, GeophysicalModelGenerator.CartData}</code>: Topography grid</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/FreeSurface.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Grid" href="#LaMEM.LaMEM_Model.Grid"><code>LaMEM.LaMEM_Model.Grid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM grid information</code></pre><ul><li><p><code>nmark_x::Int64</code>: number of markers/element in x-direction</p></li><li><p><code>nmark_y::Int64</code>: number of markers/element in y-direction</p></li><li><p><code>nmark_z::Int64</code>: number of markers/element in x-direction</p></li><li><p><code>nel_x::Vector{Int64}</code>: number of elements in x-direction</p></li><li><p><code>nel_y::Vector{Int64}</code>: number of elements in y-direction</p></li><li><p><code>nel_z::Vector{Int64}</code>: number of elements in z-direction</p></li><li><p><code>coord_x::Vector{Float64}</code>: coordinates in x-direction</p></li><li><p><code>coord_y::Vector{Float64}</code>: coordinates in y-direction</p></li><li><p><code>coord_z::Vector{Float64}</code>: coordinates in z-direction</p></li><li><p><code>nseg_x::Int64</code>: number of segments in x-direction (if we employ variable grid spacing in x-direction)</p></li><li><p><code>nseg_y::Int64</code>: number of segments in y-direction (if we employ variable grid spacing in y-direction)</p></li><li><p><code>nseg_z::Int64</code>: number of segments in z-direction (if we employ variable grid spacing in z-direction)</p></li><li><p><code>bias_x::Vector{Float64}</code>: bias in x-direction (if we employ variable grid spacing in x-direction)</p></li><li><p><code>bias_y::Vector{Float64}</code>: bias in y-direction (if we employ variable grid spacing in y-direction)</p></li><li><p><code>bias_z::Vector{Float64}</code>: bias in z-direction (if we employ variable grid spacing in z-direction)</p></li><li><p><code>Grid::GeophysicalModelGenerator.LaMEM_grid</code>: Contains the LaMEM Grid object</p></li><li><p><code>Phases::Array{Int32}</code>: Phases; 3D phase information</p></li><li><p><code>Temp::Array{Float64}</code>: Temp; 3D phase information</p></li></ul><p><strong>Example 1</strong></p><pre><code class="language-julia hljs">julia&gt; d=LaMEM.Grid(coord_x=[0.0, 0.7, 0.8, 1.0], bias_x=[0.3,1.0,3.0], nel_x=[10,4,2])
LaMEM grid with 1D refinement: 
  nel         : ([10, 4, 2], [16], [16])
  marker/cell : (3, 3, 3)
  x           ϵ [0.0, 0.7, 0.8, 1.0], bias=[0.3, 1.0, 3.0], nseg=3, Δmin=0.025000000000000022, Δmax=0.1499999999999999
  y           ϵ [-10.0 : 0.0]
  z           ϵ [-10.0 : 0.0]</code></pre><p><strong>Example 2</strong></p><pre><code class="language-julia hljs">julia&gt; d=LaMEM.Grid(nel=(10,20))
LaMEM grid with constant Δ: 
  nel         : ([10], [1], [20])
  marker/cell : (3, 3, 3)
  x           ϵ [-10.0 : 10.0]
  y           ϵ [-10.0 : 0.0]
  z           ϵ [-10.0 : 0.0]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Grid.jl#L4-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Materials" href="#LaMEM.LaMEM_Model.Materials"><code>LaMEM.LaMEM_Model.Materials</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the material properties in the current simulation</code></pre><ul><li><p><code>Phases::Vector{Phase}</code>: Different Materials implemented</p></li><li><p><code>SofteningLaws::Vector{Softening}</code>: Softening laws implemented</p></li><li><p><code>PhaseTransitions::Vector{PhaseTransition}</code>: Internal Phase Transitions (that change the ID of markers) implemented</p></li><li><p><code>Dikes::Vector{Dike}</code>: Dikes implemented (mostly for MOR simulations)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L431-L435">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Model" href="#LaMEM.LaMEM_Model.Model"><code>LaMEM.LaMEM_Model.Model</code></a> — <span class="docstring-category">Type</span></header><section><div><p>;     Model</p><p>Structure that holds all the information to create a LaMEM input file</p><ul><li><p><code>Scaling::Scaling</code>: Scaling parameters</p></li><li><p><code>Grid::Grid</code>: LaMEM Grid</p></li><li><p><code>Time::Any</code>: Time options</p></li><li><p><code>FreeSurface::Any</code>: Free surface options</p></li><li><p><code>BoundaryConditions::Any</code>: Boundary conditions</p></li><li><p><code>SolutionParams::Any</code>: Global solution parameters</p></li><li><p><code>Solver::Any</code>: Solver options and optional PETSc options</p></li><li><p><code>ModelSetup::Any</code>: Model setup</p></li><li><p><code>Output::Any</code>: Output options</p></li><li><p><code>Materials::Any</code>: Material parameters for each of the phases</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L8-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Model-Tuple" href="#LaMEM.LaMEM_Model.Model-Tuple"><code>LaMEM.LaMEM_Model.Model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Model(args...)</code></pre><p>Allow to define a model setup by specifying some of the basic objects</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; d = Model(Grid(nel=(10,1,20)), Scaling(NO_units()))
LaMEM Model setup
|
|-- Scaling             :  GeoParams.Units.GeoUnits{GeoParams.Units.NONE}
|-- Grid                :  nel=(10, 1, 20); xϵ(-10.0, 10.0), yϵ(-10.0, 0.0), zϵ(-10.0, 0.0) 
|-- Time                :  nstep_max=50; nstep_out=1; time_end=1.0; dt=0.05
|-- Boundary conditions :  noslip=[0, 0, 0, 0, 0, 0]
|-- Solution parameters :  
|-- Solver options      :  direct solver; superlu_dist; penalty term=10000.0
|-- Model setup options :  Type=geom; 
|-- Output options      :  filename=output; pvd=1; avd=0; surf=0
|-- Materials           :  1 phases;  
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L85-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Model-Tuple{}" href="#LaMEM.LaMEM_Model.Model-Tuple{}"><code>LaMEM.LaMEM_Model.Model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Model(;
    Scaling=Scaling(GEO_units()),
    Grid=Grid(), 
    Time=Time(),
    FreeSurface=FreeSurface(),
    BoundaryConditions=BoundaryConditions(),
    SolutionParams=SolutionParams(),
    Solver=Solver(),
    ModelSetup=ModelSetup(),
    Output=Output(),
    Materials=Materials()
    )</code></pre><p>Creates a LaMEM Model setup.</p><ul><li><p><code>Scaling::Scaling</code></p></li><li><p><code>Grid::Grid</code></p></li><li><p><code>Time::Any</code></p></li><li><p><code>FreeSurface::Any</code></p></li><li><p><code>BoundaryConditions::Any</code></p></li><li><p><code>SolutionParams::Any</code></p></li><li><p><code>Solver::Any</code></p></li><li><p><code>ModelSetup::Any</code></p></li><li><p><code>Output::Any</code></p></li><li><p><code>Materials::Any</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L49-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.ModelSetup" href="#LaMEM.LaMEM_Model.ModelSetup"><code>LaMEM.LaMEM_Model.ModelSetup</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM Model Setup and Advection options</code></pre><ul><li><p><code>msetup::String</code>: Setup type - can be <code>geom</code> (phases are assigned from geometric primitives), <code>files</code> (from julia input), <code>polygons</code> (from geomIO input, which requires <code>poly_file</code> to be specified)</p></li><li><p><code>rand_noise::Int64</code>: add random noise to the particle location</p></li><li><p><code>rand_noiseGP::Int64</code>: random noise flag, subsequently applied to geometric primitives</p></li><li><p><code>bg_phase::Int64</code>: background phase ID</p></li><li><p><code>save_mark::Int64</code>: save marker to disk flag</p></li><li><p><code>mark_load_file::String</code>: marker input file (extension is .xxxxxxxx.dat), if using <code>msetup</code>=<code>files</code></p></li><li><p><code>mark_save_file::String</code>: marker output file (extension is .xxxxxxxx.dat)</p></li><li><p><code>poly_file::String</code>: polygon geometry file (redundant), if using <code>msetup</code>=<code>polygons</code></p></li><li><p><code>temp_file::String</code>: initial temperature file (redundant), if not set on markers</p></li><li><p><code>advect::String</code>: advection scheme; options=<code>none</code> (no advection); <code>basic</code> (Euler classical implementation [default]); <code>Euler</code> (Euler explicit in time); <code>rk2</code> (Runge-Kutta 2nd order in space)</p></li><li><p><code>interp::String</code>: velocity interpolation scheme; options = <code>stag</code> (trilinear interpolation from FDSTAG points), <code>minmod</code> ( MINMOD interpolation to nodes, trilinear interpolation to markers + correction), <code>stagp</code> ( STAG_P empirical approach by T. Gerya)</p></li><li><p><code>stagp_a::Float64</code>: STAG_P velocity interpolation parameter</p></li><li><p><code>mark_ctrl::String</code>: marker control type; options are <code>subgrid</code> (default; marker control enforced over fine scale grid), <code>none</code> (none), <code>basic</code> (AVD for cells + corner insertion), and <code>avd</code> (pure AVD for all control volumes)</p></li><li><p><code>nmark_lim::Vector{Int64}</code>: min/max number per cell (marker control)</p></li><li><p><code>nmark_avd::Vector{Int64}</code>: x-y-z AVD refinement factors (avd marker control)</p></li><li><p><code>nmark_sub::Int64</code>: max number of same phase markers per subcell (subgrid marker control)</p></li><li><p><code>geom_primitives::Vector</code>: Different geometric primitives that can be selected if we <code>msetup</code><code>=</code>geom<code>; see</code>geom_Sphere`</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ModelSetup.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Output" href="#LaMEM.LaMEM_Model.Output"><code>LaMEM.LaMEM_Model.Output</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM output options</code></pre><ul><li><p><code>out_file_name::Any</code>: output file name</p></li><li><p><code>out_dir::Any</code>: output directory</p></li><li><p><code>param_file_name::Any</code>: parameter filename</p></li><li><p><code>write_VTK_setup::Any</code>: write VTK initial model setup</p></li><li><p><code>out_pvd::Any</code>: activate writing .pvd file</p></li><li><p><code>out_phase::Any</code>: dominant phase</p></li><li><p><code>out_density::Any</code>: density</p></li><li><p><code>out_visc_total::Any</code>: total (viscoelastoplastic) viscosity</p></li><li><p><code>out_visc_creep::Any</code>: creep viscosity</p></li><li><p><code>out_velocity::Any</code>: velocity</p></li><li><p><code>out_pressure::Any</code>: (dynamic) pressure</p></li><li><p><code>out_tot_press::Any</code>: total pressure</p></li><li><p><code>out_eff_press::Any</code>: effective pressure</p></li><li><p><code>out_over_press::Any</code>: out<em>over</em>press</p></li><li><p><code>out_litho_press::Any</code>: lithospheric pressure</p></li><li><p><code>out_pore_press::Any</code>: pore pressure</p></li><li><p><code>out_temperature::Any</code>: temperature</p></li><li><p><code>out_dev_stress::Any</code>: deviatoric strain rate tensor</p></li><li><p><code>out_j2_dev_stress::Any</code>: second invariant of deviatoric stress tensor</p></li><li><p><code>out_strain_rate::Any</code>: deviatoric strain rate tensor</p></li><li><p><code>out_j2_strain_rate::Any</code>: second invariant of strain rate tensor</p></li><li><p><code>out_shmax::Any</code>: sh max</p></li><li><p><code>out_ehmax::Any</code>: eh max</p></li><li><p><code>out_yield::Any</code>: yield stress</p></li><li><p><code>out_rel_dif_rate::Any</code>: relative proportion of diffusion creep strainrate</p></li><li><p><code>out_rel_dis_rate::Any</code>: relative proportion of dislocation creep strainrate</p></li><li><p><code>out_rel_prl_rate::Any</code>: relative proportion of peierls creep strainrate</p></li><li><p><code>out_rel_pl_rate::Any</code>: relative proportion of plastic strainrate</p></li><li><p><code>out_plast_strain::Any</code>: accumulated plastic strain</p></li><li><p><code>out_plast_dissip::Any</code>: plastic dissipation</p></li><li><p><code>out_tot_displ::Any</code>: total displacement</p></li><li><p><code>out_moment_res::Any</code>: momentum residual</p></li><li><p><code>out_cont_res::Any</code>: continuity residual</p></li><li><p><code>out_energ_res::Any</code>: energy residual</p></li><li><p><code>out_melt_fraction::Any</code>: Melt fraction</p></li><li><p><code>out_fluid_density::Any</code>: fluid density</p></li><li><p><code>out_conductivity::Any</code>: conductivity</p></li><li><p><code>out_vel_gr_tensor::Any</code>: velocity gradient tensor</p></li><li><p><code>out_surf::Any</code>: activate surface output</p></li><li><p><code>out_surf_pvd::Any</code>: activate writing .pvd file</p></li><li><p><code>out_surf_velocity::Any</code>: surface velocity</p></li><li><p><code>out_surf_topography::Any</code>: surface topography</p></li><li><p><code>out_surf_amplitude::Any</code>: amplitude of topography (=topo-average(topo))</p></li><li><p><code>out_mark::Any</code>: activate marker output</p></li><li><p><code>out_mark_pvd::Any</code>: activate writing .pvd file</p></li><li><p><code>out_avd::Any</code>: activate AVD phase output</p></li><li><p><code>out_avd_pvd::Any</code>: activate writing .pvd file</p></li><li><p><code>out_avd_ref::Any</code>: AVD grid refinement factor</p></li><li><p><code>out_ptr::Any</code>: activate</p></li><li><p><code>out_ptr_ID::Any</code>: ID of the passive tracers</p></li><li><p><code>out_ptr_phase::Any</code>: phase of the passive tracers</p></li><li><p><code>out_ptr_Pressure::Any</code>: interpolated pressure</p></li><li><p><code>out_ptr_Temperature::Any</code>: temperature</p></li><li><p><code>out_ptr_MeltFraction::Any</code>: melt fraction computed using P-T of the marker</p></li><li><p><code>out_ptr_Active::Any</code>: option that highlight the marker that are currently active</p></li><li><p><code>out_ptr_Grid_Mf::Any</code>: option that allow to store the melt fraction seen within the cell</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Output.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Phase" href="#LaMEM.LaMEM_Model.Phase"><code>LaMEM.LaMEM_Model.Phase</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Defines the material properties for each of the phases</code></pre><ul><li><p><code>ID::Union{Nothing, Int64}</code>: Material phase ID</p></li><li><p><code>Name::Union{Nothing, String}</code>: Description of the phase</p></li><li><p><code>rho::Union{Nothing, Float64}</code>: Density [kg/m^3]</p></li><li><p><code>eta::Union{Nothing, Float64}</code>: Linear viscosity [Pas]</p></li><li><p><code>visID::Union{Nothing, Int64}</code>: material ID for phase visualization (default is ID)</p></li><li><p><code>diff_prof::Union{Nothing, String}</code>: DIFFUSION creep profile; example: &quot;Dry<em>Olivine</em>diff<em>creep-Hirth</em>Kohlstedt_2003&quot;</p></li><li><p><code>disl_prof::Union{Nothing, String}</code>: DISLOCATION creep profile; example: &quot;Granite-Tirel<em>et</em>al_2008&quot;</p></li><li><p><code>peir_prof::Union{Nothing, String}</code>: PEIERLS creep profile; example:  &quot;Olivine<em>Peierls-Kameyama</em>1999&quot;</p></li><li><p><code>rho_n::Union{Nothing, Float64}</code>: depth-dependent density model parameter</p></li><li><p><code>rho_c::Union{Nothing, Float64}</code>: depth-dependent density model parameter</p></li><li><p><code>beta::Union{Nothing, Float64}</code>: pressure-dependent density model parameter</p></li><li><p><code>G::Union{Nothing, Float64}</code>: shear modulus</p></li><li><p><code>Kb::Union{Nothing, Float64}</code>: bulk modulus</p></li><li><p><code>E::Union{Nothing, Float64}</code>: Young&#39;s modulus</p></li><li><p><code>nu::Union{Nothing, Float64}</code>: Poisson&#39;s ratio</p></li><li><p><code>Kp::Union{Nothing, Float64}</code>: pressure dependence parameter</p></li><li><p><code>Bd::Union{Nothing, Float64}</code>: DIFFUSION creep pre-exponential constant</p></li><li><p><code>Ed::Union{Nothing, Float64}</code>: activation energy</p></li><li><p><code>Vd::Union{Nothing, Float64}</code>: activation volume</p></li><li><p><code>eta0::Union{Nothing, Float64}</code>: POWER LAW reference viscosity</p></li><li><p><code>e0::Union{Nothing, Float64}</code>: reference strain rate</p></li><li><p><code>Bn::Union{Nothing, Float64}</code>: DISLOCATION creep pre-exponential constant</p></li><li><p><code>En::Union{Nothing, Float64}</code>: activation energy</p></li><li><p><code>Vn::Union{Nothing, Float64}</code>: activation volume</p></li><li><p><code>n::Union{Nothing, Float64}</code>: power law exponent</p></li><li><p><code>Bp::Union{Nothing, Float64}</code>: PEIERLS creep pre-exponential constant</p></li><li><p><code>Ep::Union{Nothing, Float64}</code>: activation energy</p></li><li><p><code>Vp::Union{Nothing, Float64}</code>: activation volume</p></li><li><p><code>taup::Union{Nothing, Float64}</code>: scaling stress</p></li><li><p><code>gamma::Union{Nothing, Float64}</code>: approximation parameter</p></li><li><p><code>q::Union{Nothing, Float64}</code>: stress-dependence parameter</p></li><li><p><code>eta_fk::Union{Nothing, Float64}</code>: reference viscosity for Frank-Kamenetzky viscosity</p></li><li><p><code>gamma_fk::Union{Nothing, Float64}</code>: gamma parameter for Frank-Kamenetzky viscosity</p></li><li><p><code>TRef_fk::Union{Nothing, Float64}</code>: reference Temperature for Frank-Kamenetzky viscosity (if not set it is 0°C)</p></li><li><p><code>ch::Union{Nothing, Float64}</code>: cohesion</p></li><li><p><code>fr::Union{Nothing, Float64}</code>: friction angle</p></li><li><p><code>eta_st::Union{Nothing, Float64}</code>: stabilization viscosity (default is eta_min)</p></li><li><p><code>rp::Union{Nothing, Float64}</code>: pore-pressure ratio</p></li><li><p><code>chSoftID::Union{Nothing, Int64}</code>: friction softening law ID</p></li><li><p><code>frSoftID::Union{Nothing, Int64}</code>: cohesion softening law ID</p></li><li><p><code>healID::Union{Nothing, Int64}</code>: healing ID, points to healTau in Softening</p></li><li><p><code>alpha::Union{Nothing, Float64}</code>: thermal expansivity</p></li><li><p><code>Cp::Union{Nothing, Float64}</code>: specific heat (capacity), J⋅K−1⋅kg−1</p></li><li><p><code>k::Union{Nothing, Float64}</code>: thermal conductivity</p></li><li><p><code>A::Union{Nothing, Float64}</code>: radiogenic heat production</p></li><li><p><code>T::Union{Nothing, Float64}</code>: optional temperature to set within the phase</p></li><li><p><code>Latent_hx::Union{Nothing, Float64}</code>: optional, used for dike heating, J/kg</p></li><li><p><code>T_liq::Union{Nothing, Float64}</code>: optional, used for dike heating, liquidus temperature of material, celsius</p></li><li><p><code>T_sol::Union{Nothing, Float64}</code>: optional, used for dike heating, solidus temperature of material, celsius</p></li><li><p><code>T_Nu::Union{Nothing, Float64}</code>: default value for thermal conductivity boundary</p></li><li><p><code>nu_k::Union{Nothing, Float64}</code>: optional parameter, Nusselt number for use with conductivity</p></li><li><p><code>rho_ph::Union{Nothing, String}</code>: name of the phase diagram you want to use (still needs rho to be defined for the initial guess of pressure)</p></li><li><p><code>rho_ph_dir::Union{Nothing, String}</code>: in case the phase diagram has a different path provide the path (without the name of the actual PD) here</p></li><li><p><code>mfc::Union{Nothing, Float64}</code>: melt fraction viscosity correction factor (positive scalar)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.PhaseTransition" href="#LaMEM.LaMEM_Model.PhaseTransition"><code>LaMEM.LaMEM_Model.PhaseTransition</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Defines phase transitions on markers (that change the Phase ID of a marker depending on some conditions)</code></pre><ul><li><p><code>ID::Int64</code>: Phase_transition law ID</p></li><li><p><code>Type::String</code>: [Constant, Clapeyron, Box]: Constant - the phase transition occurs only at a fixed value of the parameter; Clapeyron - clapeyron slope</p></li><li><p><code>Name_Clapeyron::Union{Nothing, Int64}</code>: Type of predefined Clapeyron slope, such as Mantle<em>Transition</em>660km</p></li><li><p><code>PTBox_Bounds::Union{Nothing, Vector{Float64}}</code>: box bound coordinates: [left, right, front, back, bottom, top]</p></li><li><p><code>BoxVicinity::Union{Nothing, Int64}</code>: 1: only check particles in the vicinity of the box boundaries (2: in all directions)</p></li><li><p><code>Parameter_transition::String</code>: [T = Temperature, P = Pressure, Depth = z-coord, X=x-coord, Y=y-coord, APS = accumulated plastic strain, MeltFraction, t = time] parameter that triggers the phase transition</p></li><li><p><code>ConstantValue::Union{Nothing, Float64}</code>: Value of the parameter [unit of T,P,z, APS]</p></li><li><p><code>number_phases::Union{Nothing, Int64}</code>: The number of involved phases [default=1]</p></li><li><p><code>PhaseAbove::Union{Nothing, Vector{Int64}}</code>: Above the chosen value the phase is 1, below it, the value is PhaseBelow</p></li><li><p><code>PhaseBelow::Union{Nothing, Vector{Int64}}</code>: Below the chosen value the phase is PhaseBelow, above it, the value is 1</p></li><li><p><code>PhaseInside::Union{Nothing, Vector{Int64}}</code>: Phase within the box  [use -1 if you don&#39;t want to change the phase inside the box]</p></li><li><p><code>PhaseOutside::Union{Nothing, Vector{Int64}}</code>: Phase outside the box [use -1 if you don&#39;t want to change the phase outside the box. If combined with OutsideToInside, all phases that come in are set to PhaseInside]</p></li><li><p><code>PhaseDirection::String</code>: [BothWays=default; BelowToAbove; AboveToBelow] Direction in which transition works</p></li><li><p><code>ResetParam::String</code>: [APS] Parameter to reset on particles below PT or within box</p></li><li><p><code>PTBox_TempType::String</code>: # Temperature condition witin the box [none, constant, linear, halfspace]</p></li><li><p><code>PTBox_topTemp::Union{Nothing, Float64}</code>: Temp @ top of box [for linear &amp; halfspace]</p></li><li><p><code>PTBox_botTemp::Union{Nothing, Float64}</code>: Temp @ bottom of box [for linear &amp; halfspace]</p></li><li><p><code>PTBox_thermalAge::Union{Nothing, Float64}</code>: Thermal age, usually in geo-units [Myrs] [only in case of halfspace]</p></li><li><p><code>PTBox_cstTemp::Union{Nothing, Float64}</code>: Temp within box [only for constant T]</p></li><li><p><code>v_box::Union{Nothing, Float64}</code>: [optional] only for NotInAirBox, velocity with which box moves in cm/yr</p></li><li><p><code>t0_box::Union{Nothing, Float64}</code>: [optional] beginning time of movemen in Myr</p></li><li><p><code>t1_box::Union{Nothing, Float64}</code>: [optional] end time of movement in Myr</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L269-L273">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Scaling" href="#LaMEM.LaMEM_Model.Scaling"><code>LaMEM.LaMEM_Model.Scaling</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Scaling{T} is a structure that contains the scaling info, employed in the current simulation</code></pre><ul><li><code>Scaling::Any</code>: Scaling object (as in GeoParams), which can be <code>GEO_units()</code>, <code>NO_units()</code>, or <code>SI_units()</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Scaling.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Softening" href="#LaMEM.LaMEM_Model.Softening"><code>LaMEM.LaMEM_Model.Softening</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Defines strain softening parameters</code></pre><ul><li><p><code>ID::Int64</code>: softening law ID</p></li><li><p><code>APS1::Float64</code>: Begin of softening, in units of accumulated plastic strain (APS)</p></li><li><p><code>APS2::Float64</code>: End of softening, in units of accumulated plastic strain (APS)</p></li><li><p><code>A::Float64</code>: Reduction ratio</p></li><li><p><code>Lm::Float64</code>: Material length scale (in selected units, e.g. km in geo)</p></li><li><p><code>APSheal2::Union{Nothing, Float64}</code>: APS when healTau2 activates</p></li><li><p><code>healTau::Union{Nothing, Float64}</code>: healing timescale parameter [Myr]</p></li><li><p><code>healTau2::Union{Nothing, Float64}</code>: healing timescale parameter [Myr]  starting at APS=APSheal2</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L205-L209">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.SolutionParams" href="#LaMEM.LaMEM_Model.SolutionParams"><code>LaMEM.LaMEM_Model.SolutionParams</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM global solution parameters.</code></pre><ul><li><p><code>gravity::Vector{Float64}</code>: gravitational acceleration vector</p></li><li><p><code>FSSA::Float64</code>: free surface stabilization parameter [0 - 1]; The value has to be between 0 and 1</p></li></ul><ul><li><p><code>shear_heat_eff::Float64</code>: shear heating efficiency parameter   [0 - 1]</p></li><li><p><code>Adiabatic_Heat::Float64</code>: Adiabatic Heating activation flag and efficiency. <a href="man/e.g. 0.5 means that only 50% of the potential adiabatic heating affects the energy equation">0.0 - 1.0</a></p></li><li><p><code>act_temp_diff::Int64</code>: temperature diffusion activation flag</p></li><li><p><code>act_therm_exp::Int64</code>: thermal expansion activation flag</p></li><li><p><code>act_steady_temp::Int64</code>: steady-state temperature initial guess activation flag</p></li><li><p><code>steady_temp_t::Float64</code>: time for (quasi-)steady-state temperature initial guess</p></li><li><p><code>nstep_steady::Int64</code>: number of steps for (quasi-)steady-state temperature initial guess (default = 1)</p></li><li><p><code>act_heat_rech::Int64</code>: recharge heat in anomalous bodies after (quasi-)steady-state temperature initial guess (=2: recharge after every diffusion step of initial guess)</p></li><li><p><code>init_lith_pres::Int64</code>: sets initial pressure to be the lithostatic pressure (stabilizes compressible setups in the first steps)</p></li><li><p><code>init_guess::Int64</code>: create an initial guess step (using constant viscosity <code>eta_ref</code> before starting the simulation</p></li><li><p><code>p_litho_visc::Int64</code>: use lithostatic instead of dynamic pressure for creep laws</p></li><li><p><code>p_litho_plast::Int64</code>: use lithostatic pressure for plasticity</p></li><li><p><code>p_lim_plast::Int64</code>: limit pressure at first iteration for plasticity</p></li><li><p><code>p_shift::Int64</code>: add a constant value [MPa] to the total pressure field, before evaluating plasticity (e.g., when the domain is located @ some depth within the crust)</p></li><li><p><code>act_p_shift::Int64</code>: pressure shift activation flag (enforce zero pressure on average in the top cell layer); note: this overwrites p_shift above!</p></li><li><p><code>eta_min::Float64</code>: viscosity lower bound [Pas]</p></li><li><p><code>eta_max::Float64</code>: viscosity upper limit [Pas]</p></li><li><p><code>eta_ref::Float64</code>: Reference viscosity (used for the initial guess) [Pas]</p></li><li><p><code>T_ref::Float64</code>: Reference temperature [C]</p></li><li><p><code>RUGC::Float64</code>: universal gas constant (you need to change this only for non-dimensional setups)</p></li><li><p><code>min_cohes::Float64</code>: cohesion lower bound  [Pa]</p></li><li><p><code>min_fric::Float64</code>: friction lower bound  [degree]</p></li><li><p><code>tau_ult::Float64</code>: ultimate yield stress [Pa]</p></li><li><p><code>rho_fluid::Float64</code>: fluid density for depth-dependent density model</p></li><li><p><code>gw_level_type::String</code>: ground water level type for pore pressure computation (see below)</p></li><li><p><code>gw_level::Float64</code>: ground water level at the free surface (if defined)</p></li><li><p><code>biot::Float64</code>: Biot pressure parameter</p></li><li><p><code>get_permea::Float64</code>: effective permeability computation activation flag</p></li><li><p><code>rescal::Float64</code>: stencil rescaling flag (for internal constraints, for example while computing permeability)</p></li><li><p><code>mfmax::Float64</code>: maximum melt fraction affecting viscosity reduction</p></li><li><p><code>lmaxit::Int64</code>: maximum number of local rheology iterations</p></li><li><p><code>lrtol::Float64</code>: local rheology iterations relative tolerance</p></li><li><p><code>act_dike::Int64</code>: dike activation flag (additonal term in divergence)</p></li><li><p><code>useTk::Int64</code>: switch to use T-dependent conductivity, 0: not active</p></li><li><p><code>dikeHeat::Int64</code>: switch to use Behn &amp; Ito heat source in the dike</p></li><li><p><code>Compute_velocity_gradient::Int64</code>: compute the velocity gradient tensor 1: active, 0: not active. If active, it automatically activates the output in the .pvd file</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/SolutionParams.jl#L8-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Solver" href="#LaMEM.LaMEM_Model.Solver"><code>LaMEM.LaMEM_Model.Solver</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM solver options</code></pre><ul><li><p><code>SolverType::String</code>: solver employed [<code>&quot;direct&quot;</code> or <code>&quot;multigrid&quot;</code>]</p></li><li><p><code>DirectSolver::String</code>: mumps/superlu_dist/pastix/umfpack  (requires these external PETSc packages to be installed!)</p></li><li><p><code>DirectPenalty::Float64</code>: penalty parameter [employed if we use a direct solver]</p></li><li><p><code>MGLevels::Int64</code>: number of MG levels [default=3]</p></li><li><p><code>MGSweeps::Int64</code>: number of MG smoothening steps per level [default=10]</p></li><li><p><code>MGSmoother::String</code>: type of smoothener used [chebyshev or jacobi]</p></li><li><p><code>MGJacobiDamp::Float64</code>: Dampening parameter [only employed for Jacobi smoothener; default=0.6]</p></li><li><p><code>MGCoarseSolver::String</code>: coarse grid solver if using multigrid [<code>&quot;direct&quot;</code> / <code>&quot;mumps&quot;</code> / <code>&quot;superlu_dist&quot;</code> or <code>&quot;redundant&quot;</code> - more options specifiable through the command-line options <code>-crs_ksp_type</code> &amp; <code>-crs_pc_type</code>]</p></li><li><p><code>MGRedundantNum::Int64</code>: How many times do we copy the coarse grid? [only employed for redundant solver; default is 4]</p></li><li><p><code>MGRedundantSolver::String</code>: The coarse grid solver for each of the redundant solves [only employed for redundant; options are <code>&quot;mumps&quot;</code>/<code>&quot;superlu_dist&quot;</code> with default <code>&quot;superlu_dist&quot;</code>]</p></li><li><p><code>PETSc_options::Vector{String}</code>: List with (optional) PETSc options</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Solver.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Time" href="#LaMEM.LaMEM_Model.Time"><code>LaMEM.LaMEM_Model.Time</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Structure that contains the LaMEM timestepping information. An explanation of the paramneters is given in the struct `Time_info`</code></pre><ul><li><p><code>time_end::Float64</code>: simulation end time</p></li><li><p><code>dt::Float64</code>: initial time step</p></li><li><p><code>dt_min::Float64</code>: minimum time step (declare divergence if lower value is attempted)</p></li><li><p><code>dt_max::Float64</code>: maximum time step</p></li><li><p><code>dt_out::Float64</code>: output step (output at least at fixed time intervals)</p></li><li><p><code>inc_dt::Float64</code>: time step increment per time step (fraction of unit)</p></li><li><p><code>CFL::Float64</code>: CFL (Courant-Friedrichs-Lewy) criterion</p></li><li><p><code>CFLMAX::Float64</code>: CFL criterion for elasticity</p></li><li><p><code>nstep_max::Int64</code>: maximum allowed number of steps (lower bound: time<em>end/dt</em>max)</p></li><li><p><code>nstep_out::Int64</code>: save output every n steps; Set this to -1 to deactivate saving output</p></li><li><p><code>nstep_rdb::Int64</code>: save restart database every n steps</p></li><li><p><code>num_dt_periods::Int64</code>: number of time stepping periods</p></li><li><p><code>time_dt_periods::Vector{Int64}</code>: timestamps where timestep should be fixed (first entry has to 0)</p></li><li><p><code>step_dt_periods::Vector{Float64}</code>: target timesteps ar timestamps above</p></li><li><p><code>nstep_ini::Int64</code>: save output for n initial steps</p></li><li><p><code>time_tol::Float64</code>: relative tolerance for time comparisons</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Time.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.geom_Sphere" href="#LaMEM.LaMEM_Model.geom_Sphere"><code>LaMEM.LaMEM_Model.geom_Sphere</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LaMEM geometric primitive `sphere` object</code></pre><ul><li><p><code>phase::Int64</code>: phase</p></li><li><p><code>radius::Float64</code>: radius of sphere</p></li><li><p><code>center::Vector{Float64}</code>: center of sphere</p></li><li><p><code>Temperature::Union{Nothing, String}</code>: optional: Temperature of the sphere. possibilities: [constant, or nothing]</p></li><li><p><code>cstTemp::Union{Nothing, Float64}</code>: required in case of [constant]: temperature value [in Celcius in case of GEO units]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ModelSetup.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.AboveSurface-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#GeophysicalModelGenerator.AboveSurface-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>GeophysicalModelGenerator.AboveSurface</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AboveSurface(model::Model, DataSurface_Cart::CartData)</code></pre><p>Returns a boolean grid that is <code>true</code> if the <code>Phases/Temp</code> grid are above the surface</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L55-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.AddBox!-Tuple{Model}" href="#GeophysicalModelGenerator.AddBox!-Tuple{Model}"><code>GeophysicalModelGenerator.AddBox!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AddBox!(model::Model; xlim=Tuple{2}, [ylim=Tuple{2}], zlim=Tuple{2},
        Origin=nothing, StrikeAngle=0, DipAngle=0,
        phase = ConstantPhase(1),
        T=nothing )</code></pre><p>Adds a box with phase &amp; temperature structure to a 3D model setup. This simplifies creating model geometries in geodynamic models See the documentation of the GMG routine</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L8-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.AddCylinder!-Tuple{Model}" href="#GeophysicalModelGenerator.AddCylinder!-Tuple{Model}"><code>GeophysicalModelGenerator.AddCylinder!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AddCylinder!(model::Model;                                      # required input
                base=Tuple{3}, cap=Tuple{3}, radius=Tuple{1},   # center and radius of the sphere
                phase = ConstantPhase(1),                       # Sets the phase number(s) in the sphere
                T=nothing )                                     # Sets the thermal structure (various fucntions are available)</code></pre><p>See the documentation of the GMG routine</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L29-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.AddEllipsoid!-Tuple{Model}" href="#GeophysicalModelGenerator.AddEllipsoid!-Tuple{Model}"><code>GeophysicalModelGenerator.AddEllipsoid!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AddEllipsoid!(model::Model;                                 # required input
                cen=Tuple{3}, axes=Tuple{3},                # center and semi-axes of the ellpsoid
                Origin=nothing, StrikeAngle=0, DipAngle=0,  # origin &amp; dip/strike
                phase = ConstantPhase(1),                   # Sets the phase number(s) in the box
                T=nothing )</code></pre><p>See the documentation of the GMG routine</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L42-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.AddSphere!-Tuple{Model}" href="#GeophysicalModelGenerator.AddSphere!-Tuple{Model}"><code>GeophysicalModelGenerator.AddSphere!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AddSphere!(model::Model; cen=Tuple{3}, radius=Tuple{1}, phase = ConstantPhase(1), T=nothing)</code></pre><p>See the documentation of the GMG routine</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L21-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeophysicalModelGenerator.BelowSurface-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#GeophysicalModelGenerator.BelowSurface-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>GeophysicalModelGenerator.BelowSurface</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">BelowSurface(model::Model, DataSurface_Cart::CartData)</code></pre><p>Returns a boolean grid that is <code>true</code> if the <code>Phases/Temp</code> grid are below the surface</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L84-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.IO_functions.Read_LaMEM_simulation-Tuple{Model}" href="#LaMEM.IO_functions.Read_LaMEM_simulation-Tuple{Model}"><code>LaMEM.IO_functions.Read_LaMEM_simulation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Timestep, FileNames, Time = Read_LaMEM_simulation(model::Model; phase=false, surf=false, passive_tracers=false)</code></pre><p>Reads a LaMEM simulation as specified in <code>model</code> and returns the timesteps, times and filenames of that simulation once it is finished.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L172-L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.IO_functions.Read_LaMEM_timestep" href="#LaMEM.IO_functions.Read_LaMEM_timestep"><code>LaMEM.IO_functions.Read_LaMEM_timestep</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data, time = Read_LaMEM_timestep(model::Model, TimeStep::Int64=0; fields=nothing, phase=false, surf=false, last=true)</code></pre><p>Reads a specific <code>Timestep</code> from a simulation specified in <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L179-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.AboveSurface!-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#LaMEM.LaMEM_Model.AboveSurface!-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>LaMEM.LaMEM_Model.AboveSurface!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AboveSurface!(model::Model, DataSurface_Cart::CartData; phase::Int64=nothing, T::Number=nothing)</code></pre><p>Sets the <code>Temp</code> or <code>Phases</code> above the surface <code>DataSurface_Cart</code> to a constant value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.BelowSurface!-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#LaMEM.LaMEM_Model.BelowSurface!-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>LaMEM.LaMEM_Model.BelowSurface!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">BelowSurface!(model::Model, DataSurface_Cart::CartData; phase::Union{Int64,Nothing}=nothing, T::Union{Number,Nothing}=nothing)</code></pre><p>Sets the <code>Temp</code> or <code>Phases</code> below the surface <code>DataSurface_Cart</code> to a constant value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/GMG_interface.jl#L92-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Check_LaMEM_Model-Tuple{Model}" href="#LaMEM.LaMEM_Model.Check_LaMEM_Model-Tuple{Model}"><code>LaMEM.LaMEM_Model.Check_LaMEM_Model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Check_LaMEM_Model(m::Model)</code></pre><p>Checks the LaMEM Setup Model <code>m</code> for errors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ErrorChecking.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Create_Grid-NTuple{15, Any}" href="#LaMEM.LaMEM_Model.Create_Grid-NTuple{15, Any}"><code>LaMEM.LaMEM_Model.Create_Grid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This creates a LaMEM grid</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Grid.jl#L138-L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(d::Model,fname::String; dir=pwd())</code></pre><p>Writes a LaMEM input file based on the data stored in Model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L139-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, BoundaryConditions}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, BoundaryConditions}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::BoundaryConditions)</code></pre><p>Writes the boundary conditions related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/BoundaryConditions.jl#L98-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, FreeSurface}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, FreeSurface}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::FreeSurface)</code></pre><p>Writes the free surface related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/FreeSurface.jl#L116-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Grid}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Grid}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::Grid)</code></pre><p>This writes grid info to a LaMEM input file</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; d=LaMEM.Grid(coord_x=[0.0, 0.7, 0.8, 1.0], bias_x=[0.3,1.0,3.0], nel_x=[10,4,2])
julia&gt; io = open(&quot;test.dat&quot;,&quot;w&quot;)
julia&gt; LaMEM.Write_LaMEM_InputFile(io, d)
julia&gt; close(io)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Grid.jl#L225-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Materials}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Materials}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::Output)</code></pre><p>Writes the free surface related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Materials.jl#L534-L537">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, ModelSetup}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, ModelSetup}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::ModelSetup)</code></pre><p>Writes options related to the Model Setup to disk</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ModelSetup.jl#L151-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Output}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Output}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::Output)</code></pre><p>Writes the free surface related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Output.jl#L203-L206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, SolutionParams}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, SolutionParams}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::SolutionParams)</code></pre><p>Writes the boundary conditions related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/SolutionParams.jl#L155-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Solver}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Solver}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::Solver)</code></pre><p>Writes the free surface related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Solver.jl#L73-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Time}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, Time}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Writes the Time related parameters to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Time.jl#L88-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, geom_Sphere}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile-Tuple{Any, geom_Sphere}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile(io, d::geom_Sphere)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ModelSetup.jl#L129-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.Write_LaMEM_InputFile_PETSc-Tuple{Any, Solver}" href="#LaMEM.LaMEM_Model.Write_LaMEM_InputFile_PETSc-Tuple{Any, Solver}"><code>LaMEM.LaMEM_Model.Write_LaMEM_InputFile_PETSc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Write_LaMEM_InputFile_PETSc(io, d::Solver)</code></pre><p>Writes the (optional) PETSc options to file</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Solver.jl#L109-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_dike!-Tuple{Model, Dike}" href="#LaMEM.LaMEM_Model.add_dike!-Tuple{Model, Dike}"><code>LaMEM.LaMEM_Model.add_dike!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_dike!(model::Model, dike::Dike)</code></pre><p>This adds a phase transition <code>phase_trans</code> to <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L127-L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_geom!-Tuple{Model, Any}" href="#LaMEM.LaMEM_Model.add_geom!-Tuple{Model, Any}"><code>LaMEM.LaMEM_Model.add_geom!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_geom!(model::Model, geom_object)</code></pre><p>This adds an internal geometric primitive object <code>geom_object</code> to the LaMEM Model Setup <code>model</code>.</p><p>Currently available primitive geom objects are:</p><ul><li><code>geom_Sphere</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L137-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_petsc!-Tuple{Model, Vararg{Any}}" href="#LaMEM.LaMEM_Model.add_petsc!-Tuple{Model, Vararg{Any}}"><code>LaMEM.LaMEM_Model.add_petsc!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_petsc!(model::Model, option::String)</code></pre><p>Adds one or more PETSc options to the model </p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; d = Model()
julia&gt; add_petsc!(d,&quot;-snes_npicard 3&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L81-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_phase!-Tuple{Model, Phase}" href="#LaMEM.LaMEM_Model.add_phase!-Tuple{Model, Phase}"><code>LaMEM.LaMEM_Model.add_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_phase!(model::Model, phase::Phase)</code></pre><p>This adds a <code>phase</code> (with material properties) to <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L10-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_phase!-Tuple{Model, Vararg{Any}}" href="#LaMEM.LaMEM_Model.add_phase!-Tuple{Model, Vararg{Any}}"><code>LaMEM.LaMEM_Model.add_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_phase!(model::Model, phases...)</code></pre><p>Add several phases @ once.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L19-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_phasetransition!-Tuple{Model, PhaseTransition}" href="#LaMEM.LaMEM_Model.add_phasetransition!-Tuple{Model, PhaseTransition}"><code>LaMEM.LaMEM_Model.add_phasetransition!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_phasetransition!(model::Model, phase_trans::PhaseTransition)</code></pre><p>This adds a phase transition <code>phase_trans</code> to <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L118-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_softening!-Tuple{Model, Softening}" href="#LaMEM.LaMEM_Model.add_softening!-Tuple{Model, Softening}"><code>LaMEM.LaMEM_Model.add_softening!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_softening!(model::Model, soft::Softening)</code></pre><p>This adds a plastic softening law <code>soft</code> to <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L109-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.add_topography!-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#LaMEM.LaMEM_Model.add_topography!-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>LaMEM.LaMEM_Model.add_topography!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_topography!(model::Model, topography::CartData; surf_air_phase=0, surf_topo_file=&quot;topography.txt&quot;, open_top_bound=1,  surf_level=0.0)</code></pre><p>Adds the topography surface to the model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L297-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.copy_phase-Tuple{Phase}" href="#LaMEM.LaMEM_Model.copy_phase-Tuple{Phase}"><code>LaMEM.LaMEM_Model.copy_phase</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">copy_phase(phase::Phase; kwargs...)</code></pre><p>This copies a phase with material properties, while allowing to change some parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L281-L285">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.create_initialsetup" href="#LaMEM.LaMEM_Model.create_initialsetup"><code>LaMEM.LaMEM_Model.create_initialsetup</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_initialsetup(model::Model, cores::Int64=1, args::String=&quot;&quot;)</code></pre><p>Creates the initial model setup of LaMEM from <code>model</code>, which includes:</p><ul><li>Writing the LaMEM (*.dat) input file</li><li>Write the VTK file (if requested when <code>model.Output.write_VTK_setup=true</code>)</li><li>Write the marker files to disk (if <code>model.ModelSetup.msetup=&quot;files&quot;</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L193-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.cross_section" href="#LaMEM.LaMEM_Model.cross_section"><code>LaMEM.LaMEM_Model.cross_section</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data_tuple, axes_str = cross_section(model::LaMEM.Model, field=:phases; x=nothing, y=nothing, z=nothing)</code></pre><p>This creates a cross-section through the initial model setup &amp; returns a 2D array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L201-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.cross_section" href="#LaMEM.LaMEM_Model.cross_section"><code>LaMEM.LaMEM_Model.cross_section</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Cross = cross_section(cart::CartData, field::Symbol =:phase; x=nothing, y=nothing, z=nothing)</code></pre><p>Creates a cross-section through the data and returns <code>x,z</code> coordinates</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L214-L218">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.flatten-Tuple{GeophysicalModelGenerator.CartData, Symbol, Any, Any, Any}" href="#LaMEM.LaMEM_Model.flatten-Tuple{GeophysicalModelGenerator.CartData, Symbol, Any, Any, Any}"><code>LaMEM.LaMEM_Model.flatten</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Creates a 2D array out of a cross-section and a specified data field</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L231-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.is_rectilinear-Tuple{GeophysicalModelGenerator.CartData}" href="#LaMEM.LaMEM_Model.is_rectilinear-Tuple{GeophysicalModelGenerator.CartData}"><code>LaMEM.LaMEM_Model.is_rectilinear</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_rectilinear(topography::CartData)</code></pre><p>Checks whether <code>topography</code> is rectilinear</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ErrorChecking.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.replace_phase!-Tuple{Model, Phase}" href="#LaMEM.LaMEM_Model.replace_phase!-Tuple{Model, Phase}"><code>LaMEM.LaMEM_Model.replace_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">replace_phase!(model::Model, phase_new::Phase; ID::Int64=nothing, Name::String=nothing)</code></pre><p>This replaces a <code>phase</code> within a LaMEM Model Setup <code>model</code> with <code>phase_new</code> either based on its <code>Name</code> or <code>ID</code>.  Note that it is expected that only one such phase is present in the current setup.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L61-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.rm_last_phase!-Tuple{Model}" href="#LaMEM.LaMEM_Model.rm_last_phase!-Tuple{Model}"><code>LaMEM.LaMEM_Model.rm_last_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rm_last_phase!(model::Model, phase::Phase)</code></pre><p>This removes the last added <code>phase</code> from <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L30-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.rm_phase!-Tuple{Model, Int64}" href="#LaMEM.LaMEM_Model.rm_phase!-Tuple{Model, Int64}"><code>LaMEM.LaMEM_Model.rm_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rm_phase!(model::Model, ID::Int64)</code></pre><p>This removes a phase with <code>ID</code> from <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L41-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.rm_phase!-Tuple{Model}" href="#LaMEM.LaMEM_Model.rm_phase!-Tuple{Model}"><code>LaMEM.LaMEM_Model.rm_phase!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rm_phase!(model::Model)</code></pre><p>This removes all existing phases from <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L52-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.set_air-Tuple{}" href="#LaMEM.LaMEM_Model.set_air-Tuple{}"><code>LaMEM.LaMEM_Model.set_air</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_air(; Name=&quot;air&quot;, ID=0, rho=1, alpha=nothing, eta=1e17, G=nothing, nu=nothing, fr=nothing, ch=nothing, k=30,Cp=1000)</code></pre><p>Sets an air phase, with high conductivity </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L271-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.set_geom!-Tuple{Model, geom_Sphere}" href="#LaMEM.LaMEM_Model.set_geom!-Tuple{Model, geom_Sphere}"><code>LaMEM.LaMEM_Model.set_geom!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This sets the geometry </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Utils.jl#L151-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.LaMEM_Model.within_bounds-Tuple{Model, GeophysicalModelGenerator.CartData}" href="#LaMEM.LaMEM_Model.within_bounds-Tuple{Model, GeophysicalModelGenerator.CartData}"><code>LaMEM.LaMEM_Model.within_bounds</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">within_bounds(model::Model, topography::CartData)</code></pre><p>Verifies that the bounds of the topography grid are larger than that of the model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/ErrorChecking.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LaMEM.Run.run_lamem" href="#LaMEM.Run.run_lamem"><code>LaMEM.Run.run_lamem</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_lamem(model::Model, cores::Int64=1, args:String=&quot;&quot;; wait=true)</code></pre><p>Performs a LaMEM run for the parameters that are specified in <code>model</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/LaMEM.jl/blob/99850250c3ed49fa0ee160e1c587f89a5c241e68/src/LaMEM_ModelGeneration/Model.jl#L172-L176">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../juliasetup_pluto/">« Notebooks</a><a class="docs-footer-nextpage" href="../runlamem/">Run LaMEM »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 27 November 2023 22:38">Monday 27 November 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
